description: |
  Restore gradle cache
parameters:
  cache-key:
    description: Used to form part of the cache key
    type: string
    default: v1
steps:
  - run:
      command: |
        find . -name 'build.gradle' | sort | xargs cat |
        shasum | awk '{print $1}' > /tmp/gradle_cache_seed
      name: Generate Cache Checksum
  - restore_cache:
      key: gradle-<< parameters.cache-key>>-{{ arch }}-{{ checksum "/tmp/gradle_cache_seed" }}
